/*********************************************************************************************************************/
/*-----------------------------------------------------Includes------------------------------------------------------*/
/*********************************************************************************************************************/
#include "lpf.h"
#include "Platform_Types.h"
#include "commonMacros.h"

/*********************************************************************************************************************/
/*------------------------------------------------------Macros-------------------------------------------------------*/
/*********************************************************************************************************************/
#define T_S             0.01f
#define MUL_LOW         6
#define MUL_HIGH        2

/*********************************************************************************************************************/
/*---------------------------------------------Function Implementations----------------------------------------------*/
/*********************************************************************************************************************/
float32 lowPassFilter(float32 w_ref, float32 prevLpf)
{
    float32 w_cut = (w_ref >= 127 * PI) ? 30 : 40;

    return (prevLpf + (T_S * w_cut * w_ref)) / (1 + T_S * w_cut);


}
